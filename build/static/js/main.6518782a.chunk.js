(this["webpackJsonpWorkshop.io"]=this["webpackJsonpWorkshop.io"]||[]).push([[0],{106:function(t,e,a){},108:function(t,e,a){},110:function(t,e,a){},111:function(t,e,a){},116:function(t,e,a){},117:function(t,e,a){},118:function(t,e,a){},119:function(t,e,a){},120:function(t,e,a){},123:function(t,e,a){},124:function(t,e,a){},125:function(t,e,a){},126:function(t,e,a){},169:function(t,e,a){},170:function(t,e,a){},171:function(t,e,a){},172:function(t,e,a){},173:function(t,e,a){},175:function(t,e,a){"use strict";a.r(e);var i=a(2),n=a.n(i),s=a(48),r=a.n(s),c=a(17),d=a(12),o=a(94),l=a(190),j=a(192),b=a(189),u=(a(106),a(0));function h(t){var e=t.users,a=t.modalVisibility?"modal fade in":"modal fade",i="";function n(){t.setModalVisibility(!1)}function s(t){}return e&&(i=e.map((function(t){return Object(u.jsxs)("div",{className:"collaborators--list-item",children:[Object(u.jsxs)("div",{className:"collaborator--details",children:[Object(u.jsx)("div",{className:"avatar margin-r-1x",children:Object(u.jsx)("img",{src:t.userId.avatar})}),Object(u.jsxs)("div",{className:"metadata",children:[Object(u.jsxs)("div",{className:"name",children:[t.userId.firstName," ",t.userId.lastName]}),Object(u.jsx)("div",{className:"email text-muted text-sm",children:t.userId.email})]})]}),Object(u.jsx)("div",{className:"collaborator--role",children:Object(u.jsxs)("select",{name:"roles",value:t.permission,onChange:s,children:[Object(u.jsx)("option",{value:"owner",children:"Owner"}),Object(u.jsx)("option",{value:"facilitator",children:"Facilitator"}),Object(u.jsx)("option",{value:"participant",children:"Participant"}),Object(u.jsx)("option",{value:"readonly",children:"Viewer"})]})}),Object(u.jsx)("div",{className:"collaborator--actions",children:Object(u.jsx)("div",{className:"button-group",children:Object(u.jsx)("button",{className:"btn btn-text-danger",children:Object(u.jsx)("i",{className:"bi-trash"})})})})]},t.userId._id)}))),Object(u.jsxs)("div",{className:a,children:[Object(u.jsxs)("div",{className:"modal--header",children:[Object(u.jsx)("h2",{children:"Manage Collaborators"}),Object(u.jsx)("button",{className:"modal--close",onClick:n,children:Object(u.jsx)("i",{className:"bi-x-circle"})})]}),Object(u.jsxs)("div",{className:"modal--container",children:[Object(u.jsx)("div",{className:"collaborators--list",children:i}),Object(u.jsxs)("div",{className:"button-group margin-t-2x",children:[Object(u.jsx)("button",{className:"btn btn-primary",onClick:n,children:"Save"}),Object(u.jsx)("button",{className:"btn btn-outline-primary",onClick:n,children:"Cancel"})]})]})]})}var m=a(8);function O(t){var e=Object(i.useState)(!1),a=Object(m.a)(e,2),n=a[0],s=a[1];function r(){t.setErrorMsg(null),s(!1)}return Object(i.useEffect)((function(){if(!n&&t.errorMsg){s(!0);setTimeout((function(){r()}),1e4)}}),[t.errorMsg]),Object(u.jsxs)("div",{className:n?"alert alert-error":"alert alert-error hidden",children:[t.errorMsg,Object(u.jsx)("button",{onClick:r,children:Object(u.jsx)("i",{className:"bi-x-circle"})})]})}a(108);function g(){return Object(u.jsx)("footer",{id:"footer",children:Object(u.jsx)("span",{className:"footer--version",children:"v0.0.1"})})}var x,p,v,f,N=a(16),y=a(191),k=a(193),I=a(194);function w(t){var e=t.orgs,a=t.currentOrg,i="";function n(i){e.filter((function(n,s){n._id==i.target.id&&(t.setCurrentOrg(e[s]),t.setCurrentTeam(e[s].teams[0]),console.log(a))}))}return e&&(i=e.map((function(t){return Object(u.jsx)("li",{id:t._id,className:t,onClick:n,children:t.name},t._id)}))),Object(u.jsxs)("header",{id:"dashboard--header",className:"header",children:[Object(u.jsxs)("div",{className:"header--group",children:[Object(u.jsx)("div",{className:"header--pill",children:Object(u.jsx)("div",{className:"dashboard--header-logo",children:"workshop.io"})}),Object(u.jsxs)("div",{className:"header--pill-wrapper",children:[Object(u.jsxs)("div",{className:"header--pill",children:[Object(u.jsx)("i",{className:"bi-chevron-down margin-r-1x"}),t.currentOrg.name]}),Object(u.jsx)("ul",{className:"dropdown",children:i})]}),Object(u.jsxs)("div",{className:"header--pill",children:[Object(u.jsx)("i",{className:"bi-gear margin-r-1x"}),"Manage Organization"]})]}),Object(u.jsx)("div",{className:"header--group header--group--right",children:Object(u.jsxs)("div",{className:"header--pill-wrapper",children:[Object(u.jsxs)("div",{className:"header--pill",children:[Object(u.jsx)("i",{className:"bi-person-fill margin-r-1x"}),"Michael",Object(u.jsx)("i",{className:"bi-three-dots-vertical margin-l-1x"})]}),Object(u.jsxs)("ul",{className:"dropdown right",children:[Object(u.jsx)("li",{children:"My Account"}),Object(u.jsx)("li",{children:"Logout"})]})]})})]})}var _=a(25);a(110);function C(t){var e=t.currentTeam,a=e.workshops?e.workshops:null,i="";return i=a&&a.length>0?a.map((function(t){return Object(u.jsx)(D,{index:t._id,workshop:t},t._id)})):Object(u.jsxs)("div",{className:"dashboard--card empty",onClick:function(){t.setModalVisibility(!0)},children:[Object(u.jsx)("i",{className:"bi-plus-circle-dotted margin-b-2x"}),Object(u.jsx)("h2",{children:"Create a workshop!"})]}),Object(u.jsx)("div",{className:"dashboard--card-list",children:i})}a(111);function D(t){var e,a,i,n,s=t.workshop,r=0,d=function(t,e){var a=Object(y.a)(f||(f=Object(N.a)(["\n\t\tmutation deleteWorkshop($_id: ID!) {\n\t\t  deleteWorkshop(_id: $_id)\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getOrganizationsForUser"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({_id:s._id},(function(){})),o=Object(m.a)(d,2),l=o[0],j=o[1];j.data,j.loading,j.error;if(s.agenda){var b=Object(_.convertDate)(s.agenda[0].startTime),h=Object(_.convertDate)(s.agenda[s.agenda.length-1].startTime);e=b==h?b:b+" - "+h,s.agenda.forEach((function(t,e){t.activities&&t.activities.forEach((function(t,e){r+=t.duration}))})),a=(n=r)>=60?Math.round(n/60*100)/100+" Hours":n+" Minutes"}return"not-started"==s.status?i=Object(u.jsxs)("div",{className:"button-group margin-t-3x",children:[Object(u.jsx)(c.b,{className:"btn btn-sm btn-outline-primary",to:"/workshop/"+s._id,children:"Start Workshop"}),Object(u.jsx)(c.b,{className:"btn btn-sm btn-outline-secondary",to:"/workshop/"+s._id+"/agenda",children:"Edit Agenda"})]}):"in-progress"==s.status&&(i=Object(u.jsx)("div",{className:"button-group margin-t-3x",children:Object(u.jsx)(c.b,{className:"btn btn-sm btn-outline-primary",to:"/workshop/"+s._id,children:"Join Workshop"})})),Object(u.jsxs)("div",{id:s._id,className:"dashboard--card",children:[Object(u.jsx)("div",{className:"dashboard--card--image-wrapper",children:Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("button",{className:"btn btn-icon",children:Object(u.jsx)("i",{className:"bi-three-dots-vertical"})}),Object(u.jsxs)("ul",{className:"dropdown right",children:[Object(u.jsx)("li",{children:"Share"}),Object(u.jsx)("li",{children:"Archive"}),Object(u.jsx)("li",{className:"text-danger",onClick:l,children:"Delete"})]})]})}),Object(u.jsxs)("div",{className:"dashboard--card--content",children:[Object(u.jsx)("div",{className:"dashboard--card--header margin-b-2x",children:Object(u.jsx)("h4",{children:s.name})}),Object(u.jsxs)("div",{className:"dashboard--card--metadata margin-b-1x text-muted",children:[Object(u.jsx)("i",{className:"bi-calendar margin-r-1x"}),Object(u.jsx)("span",{children:e})]}),Object(u.jsxs)("div",{className:"dashboard--card--metadata margin-b-1x text-muted",children:[Object(u.jsx)("i",{className:"bi-clock margin-r-1x"}),Object(u.jsx)("span",{children:a})]}),Object(u.jsxs)("div",{className:"dashboard--card--metadata text-muted",children:[Object(u.jsx)("i",{className:"bi-people-fill margin-r-1x"}),Object(u.jsxs)("span",{children:[s.users.length," ",s.users.length>1?"Collaborators":"Collaborator"]})]}),i]})]},s._id)}var $,T,W,S,M,A;a(116);function V(t){var e=t.currentOrg.teams,a=t.currentTeam,i="";function n(a){e.filter((function(i,n){i._id==a.target.id&&t.setCurrentTeam(e[n])}))}return e&&(i=e.map((function(t){return Object(u.jsxs)("li",{id:t._id,className:a._id==t._id?"active margin-b-3x":"margin-b-3x",onClick:n,children:[t.name,a._id==t._id?Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("i",{className:"bi-three-dots-vertical margin-l-1x"}),Object(u.jsxs)("ul",{className:"dropdown",children:[Object(u.jsx)("li",{children:"Manage Collaborators"}),Object(u.jsx)("li",{className:"text-danger",children:"Delete Team"})]})]}):""]},t._id)}))),Object(u.jsxs)("nav",{children:[Object(u.jsxs)("button",{className:"btn btn-primary btn-lg margin-b-3x",onClick:function(){t.setModalVisibility(!0)},children:[Object(u.jsx)("i",{className:"bi-plus-lg margin-r-1x"})," Create New Workshop"]}),Object(u.jsx)("h3",{children:"TEAMS"}),Object(u.jsx)("ul",{className:"dashboard--team-list margin-t-3x",children:i})]})}function E(t,e){var a=Object(y.a)($||($=Object(N.a)(["\n\t  mutation addAgendaDayToWorkshop($workshopId: ID!) {\n\t\t  addAgendaDayToWorkshop(workshopId: $workshopId) {\n\t\t    _id\n\t\t  }\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}a(117);function F(t){var e=Object(i.useState)(""),a=Object(m.a)(e,2),n=a[0],s=a[1],r=Object(i.useState)(""),c=Object(m.a)(r,2),o=c[0],l=c[1],j=t.modalVisibility?"modal fade in":"modal fade",b=t.currentTeam._id,h=Object(d.f)(),O=function(t,e){var a=Object(y.a)(p||(p=Object(N.a)(["\n\t  mutation addWorkshop($name: String!, $userId: ID!) {\n\t  \taddWorkshop(name: $name, userId: $userId) {\n\t      _id\n\t    }\n\t  }\n\t"]))),i=Object(I.a)(a,{variables:t,onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({name:n,userId:"614354c98fd4395885f2b145"},(function(t){l(t.addWorkshop._id),_()})),g=Object(m.a)(O,2),x=g[0],f=g[1],k=(f.data,f.loading,f.error,function(t,e){var a=Object(y.a)(v||(v=Object(N.a)(["\n\t  mutation addWorkshopToTeam($workshopId: ID!, $teamId: ID!) {\n\t  \taddWorkshopToTeam(workshopId: $workshopId, teamId: $teamId) {\n\t      _id\n\t    }\n\t  }\n\t"]))),i=Object(I.a)(a,{variables:t,onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({workshopId:o,teamId:b},(function(){T()}))),w=Object(m.a)(k,2),_=w[0],C=w[1],D=(C.data2,C.loading2,C.error2,E({workshopId:o},(function(){var t="/workshop/"+o+"/agenda";h.push(t)}))),$=Object(m.a)(D,2),T=$[0],W=$[1];W.data3,W.loading3,W.error3;function S(t){s(t.target.value)}function M(){s(""),t.setModalVisibility(!1)}return Object(u.jsxs)("div",{className:j,children:[Object(u.jsxs)("div",{className:"modal--header",children:[Object(u.jsx)("h2",{children:"Create New Workshop"}),Object(u.jsx)("button",{className:"modal--close",onClick:M,children:Object(u.jsx)("i",{className:"bi-x-circle"})})]}),Object(u.jsxs)("div",{className:"modal--container",children:[Object(u.jsxs)("fieldset",{className:"margin-b-2x",children:[Object(u.jsx)("label",{htmlFor:"name",className:"required",children:"Workshop Name"}),Object(u.jsx)("input",{id:"name",type:"text",value:n,onChange:S})]}),Object(u.jsxs)("fieldset",{className:"margin-b-2x",children:[Object(u.jsx)("label",{htmlFor:"name",className:"required",children:"Workshop Description"}),Object(u.jsx)("input",{id:"name",type:"text",value:n,onChange:S})]}),Object(u.jsxs)("div",{className:"button-group right",children:[Object(u.jsx)("a",{className:"btn btn-outline",onClick:M,children:"Cancel"}),Object(u.jsx)("a",{className:"btn btn-primary",onClick:x,children:"Create"})]})]})]})}var z,q;a(118);function L(){var t=Object(i.useState)(!1),e=Object(m.a)(t,2),a=e[0],n=e[1],s=Object(i.useState)({}),r=Object(m.a)(s,2),c=r[0],d=r[1],o=Object(i.useState)({}),l=Object(m.a)(o,2),j=l[0],b=l[1],h=function(t,e){var a=Object(y.a)(x||(x=Object(N.a)(["\n\t\tquery getOrganizationsForUser($id: ID, $userId: ID, $page: Int, $limit: Int) {\n\t\t  getOrganizations(_id: $id, userId: $userId, page: $page, limit: $limit) {\n\t\t    organizations {\n\t\t      _id\n\t\t      name\n\t\t      users {\n\t\t        userId {\n\t\t          _id\n\t\t          avatar\n\t\t          firstName\n\t\t          lastName\n\t\t          email\n\t\t        }\n\t\t        permission\n\t\t      }\n\t\t      teams {\n\t\t\t    _id\n\t\t        name\n\t\t        visibility\n\t\t        users {\n\t\t          userId {\n\t\t            _id\n\t\t            avatar\n\t\t            firstName\n\t\t            lastName\n\t\t            email\n\t\t          }\n\t\t          permission\n\t\t        }\n\t\t        workshops {\n\t\t          _id\n\t\t          name\n\t\t          status\n\t\t          users {\n\t\t\t\t\t\t\t\tuserId {\n\t                _id\n\t                avatar\n\t\t\t\t\t\t\t\t\tfirstName\n\t\t\t\t\t\t\t\t\tlastName\n\t\t\t\t\t\t\t\t\temail\n\t              }\n\t              permission\n\t            }\n\t            agenda {\n\t\t            startTime\n\t\t            activities {\n\t\t\t          \tduration  \n\t\t\t          }\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t    currentPage\n\t\t    totalPages\n\t\t  }\n\t\t}\n\t"]))),i=Object(k.a)(a,{variables:t,onCompleted:e,pollInterval:5e3});return{loading:i.loading,error:i.error,data:i.data,refetch:i.refetch}}({id:"",userId:"614354c98fd4395885f2b145",page:1,limit:1e3},(function(){})),O=h.loading,g=h.error,p=h.data;return Object(i.useEffect)((function(){!1===O&&p&&(d(p.getOrganizations.organizations[0]),b(p.getOrganizations.organizations[0].teams[0]))}),[O,p]),O?"Loading...":(g&&console.log(g),Object(u.jsxs)("div",{id:"dashboard",children:[Object(u.jsx)(w,{orgs:p.getOrganizations.organizations,currentOrg:c,currentTeam:j,setCurrentOrg:d,setCurrentTeam:b}),Object(u.jsxs)("main",{children:[Object(u.jsx)(V,{currentOrg:c,currentTeam:j,setCurrentTeam:b,setModalVisibility:n}),Object(u.jsx)(C,{currentTeam:j,modalVisibility:a,setModalVisibility:n})]}),Object(u.jsx)(F,{currentTeam:j,modalVisibility:a,setModalVisibility:n})]}))}function P(t,e){var a=Object(y.a)(z||(z=Object(N.a)(["\n\t\tquery getWorkshops($id: ID, $page: Int, $limit: Int) {\n\t\t  getWorkshops(_id: $id, page: $page, limit: $limit) {\n\t\t    workshops {\n\t\t      _id\n\t\t      name\n\t\t      status\n\t\t      users {\n\t\t        userId {\n\t\t          _id\n\t\t          avatar\n\t\t          firstName\n\t\t          lastName\n\t\t          email\n\t\t        }\n\t\t        permission\n\t\t      }\n\t\t      agenda {\n\t\t\t      _id\n\t\t\t      status\n\t\t\t      weight\n\t\t\t      startTime\n\t\t\t      activities {\n\t\t\t\t      _id\n\t\t\t\t      status\n\t\t\t\t      weight\n\t\t\t\t      duration\n\t\t\t\t      activity {\n\t\t\t\t\t      _id\n\t\t\t\t\t      name\n\t\t\t\t\t      type\n\t\t\t\t\t      description\n\t\t\t\t\t      suggestedDuration\n\t\t\t\t\t    }\n\t\t\t\t    }\n\t\t\t    }\n\t\t    }\n\t\t    currentPage\n\t\t    totalPages\n\t\t  }\n\t\t}\n\t"]))),i=Object(k.a)(a,{variables:t,onCompleted:e,pollInterval:5e3});return{loading:i.loading,error:i.error,data:i.data}}function Q(t){var e=t.workshop;return Object(u.jsxs)("header",{id:"workshop--header",className:"header",children:[Object(u.jsxs)("div",{className:"header--group",children:[Object(u.jsx)(c.b,{to:"/dashboard",children:Object(u.jsx)("div",{className:"header--pill square",children:Object(u.jsx)("i",{className:"bi-chevron-left"})})}),Object(u.jsxs)("div",{className:"header--pill",children:[e.name,Object(u.jsx)("i",{className:"bi-three-dots-vertical margin-l-1x"})]}),Object(u.jsx)("div",{className:"header--pill square",children:Object(u.jsx)(c.b,{to:"/workshop/"+e._id+"/agenda",children:Object(u.jsx)("i",{className:"bi-calendar4-range"})})})]}),Object(u.jsxs)("div",{className:"header--group header--group--right",children:["not-started"==e.status?Object(u.jsx)("div",{className:"header--pill",children:Object(u.jsxs)(c.b,{to:"/workshop/"+e._id,children:[Object(u.jsx)("i",{className:"bi-ui-checks-grid"})," Start Workshop"]})}):null,Object(u.jsxs)("div",{className:"header--pill",onClick:function(){t.setModalVisibility(!0)},children:[Object(u.jsx)("i",{className:"bi-person-plus margin-r-1x"}),"Share"]}),Object(u.jsx)("div",{className:"header--pill square",children:Object(u.jsx)("i",{className:"bi-question-circle"})})]})]})}a(119);function J(t){var e=t.workshop,a=Object(_.compareTimeToNow)(e.agenda[0].startTime),n=Object(i.useState)(e.status),s=Object(m.a)(n,2),r=s[0],c=s[1],d=function(t,e){var a=Object(y.a)(q||(q=Object(N.a)(["\n\t\tmutation updateWorkshop($_id: ID!, $name: String, $status: String) {\n\t\t  updateWorkshop(_id: $_id, name: $name, status: $status) {\n\t\t    _id\n\t\t  }\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({_id:e._id,status:r},(function(){})),o=Object(m.a)(d,2),l=o[0],j=o[1];j.data,j.loading,j.error;return Object(i.useEffect)((function(){l()}),[r]),Object(u.jsxs)("div",{className:"workshop--wrapper",children:["not-started"==r?Object(u.jsxs)("div",{className:"start-workshop",children:[Object(u.jsx)("h1",{children:e.name}),a?Object(u.jsxs)("p",{children:["This workshop is scheduled to start on ",a,"."]}):Object(u.jsxs)("p",{children:["This workshop was scheduled for ",Object(_.convertDate)(e.agenda[0].startTime)," at ",Object(_.convertTime)(e.agenda[0].startTime),"."]}),Object(u.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){c("in-progress")},children:"Start Workshop"})]}):null,"in-progress"==r?Object(u.jsxs)("div",{className:"workshop--stage",children:[Object(u.jsx)("div",{className:"board--list--arrow-prev",children:Object(u.jsx)("i",{className:"bi-arrow-left-circle"})}),Object(u.jsx)(B,{activities:e.agenda[0].activities}),Object(u.jsx)("div",{className:"board--list--arrow-next",children:Object(u.jsx)("i",{className:"bi-arrow-right-circle"})})]}):null]})}a(120);function B(t){var e="";return t.activities&&(e=t.activities.map((function(t,e){return Object(u.jsx)(U,{index:e,activity:t})}))),Object(u.jsx)("div",{className:"board--list",children:e})}var R=a(69);a(123);function U(t){var e=t.activity;return Object(u.jsxs)("div",{className:"board--wrapper",id:e._id,children:[Object(u.jsxs)("div",{className:"board--header",children:[Object(u.jsx)("span",{children:e.activity.name}),Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"bi-clock"})," ",e.duration,"m"]})]}),"in-progress"==e.status?Object(u.jsx)("div",{className:"board",children:Object(u.jsx)(R.c,{width:960,height:600,scale:{x:.5,y:.5},children:Object(u.jsx)(R.a,{children:Object(u.jsx)(R.b,{x:20,y:50,width:100,height:100,fill:"red"})})})}):Object(u.jsx)("div",{className:"board--preview",children:e.activity.description})]},e._id)}a(124);function H(){var t=Object(i.useState)(!1),e=Object(m.a)(t,2),a=e[0],n=e[1],s=P({id:Object(d.g)().id,page:1,limit:1},(function(t){})),r=s.loading,c=s.error,o=s.data;return r?"Loading...":(c&&console.log(c),Object(u.jsxs)("div",{id:"workshop",children:[Object(u.jsx)(Q,{workshop:o.getWorkshops.workshops[0],setModalVisibility:n}),Object(u.jsx)(J,{workshop:o.getWorkshops.workshops[0]}),Object(u.jsx)(h,{users:o.getWorkshops.workshops[0].users,modalVisibility:a,setModalVisibility:n})]}))}a(125);function Y(t){var e=t.workshop,a=e.agenda,n=Object(i.useState)(),s=Object(m.a)(n,2),r=s[0],c=s[1],d=E({workshopId:e._id},(function(){})),o=Object(m.a)(d,2),l=o[0],j=o[1],b=(j.data,j.loading,j.error,"");return a&&(b=a.map((function(t,e){return Object(u.jsx)(X,{day:t,daysTotal:a.length,dayCount:e+1,setErrorMsg:c},e)}))),Object(u.jsxs)("main",{className:"agenda",children:[Object(u.jsx)("h1",{className:"margin-b-2x",children:"Agenda"}),Object(u.jsx)(O,{errorMsg:r,setErrorMsg:c}),Object(u.jsx)("div",{className:"agenda--day-list",children:b}),Object(u.jsx)("div",{className:"button-group centered",children:Object(u.jsxs)("button",{className:"btn btn-lg btn-primary",onClick:l,children:[Object(u.jsx)("i",{className:"bi-plus-lg margin-r-1x"})," Add Day"]})})]})}var G=a(82),K=a.n(G);a(126);function X(t){var e=t.day,a=t.day.startTime,s=0,r=Object(i.useState)(!1),c=Object(m.a)(r,2),d=c[0],o=c[1],l=Object(i.useState)(e.weight),j=Object(m.a)(l,2),b=j[0],h=(j[1],Object(i.useState)(a)),O=Object(m.a)(h,2),g=O[0],x=O[1],p=Object(i.useState)(""),v=Object(m.a)(p,2),f=v[0],k=v[1],w=d?"activities--popup fade in":"activities--popup fade",_=function(t,e){var a=Object(y.a)(M||(M=Object(N.a)(["\n\t\tmutation deleteAgendaDayFromWorkshop($_id: ID!) {\n\t\t  deleteAgendaDayFromWorkshop(_id: $_id)\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({_id:e._id},(function(){})),C=Object(m.a)(_,2),D=C[0],$=C[1],S=($.data,$.loading,$.error,function(t,e){var a=Object(y.a)(T||(T=Object(N.a)(["\n\t\tmutation addActivityToAgendaDay($agendaDayId: ID!, $activityId: ID!) {\n\t\t  addActivityToAgendaDay(agendaDayId: $agendaDayId, activityId: $activityId) {\n\t\t    _id\n\t\t  }\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({agendaDayId:e._id,activityId:f},(function(){}))),A=Object(m.a)(S,2),V=A[0],E=A[1],F=(E.data2,E.loading2,E.error2,function(t,e){var a=Object(y.a)(W||(W=Object(N.a)(["\n\t\tmutation updateAgendaDay($_id: ID!, $weight: Int, $startTime: String, $status: String) {\n\t\t  updateAgendaDay(_id: $_id, weight: $weight, startTime: $startTime, status: $status) {\n\t\t    _id\n\t\t  }\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({_id:e._id,startTime:String(g),weight:parseInt(b)},(function(){}))),z=Object(m.a)(F,2),q=z[0],L=z[1];L.data3,L.loading3,L.error3;function P(t){k(t.target.id),o(!1)}Object(i.useEffect)((function(){""!=f&&(V(),k(""))}),[f]),Object(i.useEffect)((function(){q()}),[g,b]);var Q="";t.day.activities&&(Q=t.day.activities.map((function(e,i){return s+=e.duration,Object(u.jsx)(Z,{index:i,day:t.day,startTime:a,totalTime:s,activity:e},i)})));var J=n.a.forwardRef((function(t,e){var a=t.value,i=t.onClick;return Object(u.jsxs)("button",{className:"btn btn-sm btn-text-secondary",onClick:i,ref:e,children:[Object(u.jsx)("i",{className:"bi-calendar2-date"})," ",a]})})),B=n.a.forwardRef((function(t,e){var a=t.value,i=t.onClick;return Object(u.jsxs)("button",{className:"btn btn-sm btn-text-secondary",onClick:i,ref:e,children:[Object(u.jsx)("i",{className:"bi-clock"})," ",a]})}));return Object(u.jsxs)("div",{className:"agenda--day",children:[Object(u.jsx)("div",{className:"draggable",children:Object(u.jsx)("i",{className:"bi-grip-vertical"})}),Object(u.jsxs)("div",{className:"agenda--day--header",children:[Object(u.jsxs)("h2",{children:["Day ",t.dayCount]}),Object(u.jsxs)("div",{className:"button-group",children:[Object(u.jsx)(K.a,{selected:new Date(parseInt(g)),onChange:function(t){return x(t.getTime())},customInput:Object(u.jsx)(J,{})}),Object(u.jsx)(K.a,{selected:new Date(parseInt(g)),onChange:function(t){return x(t.getTime())},customInput:Object(u.jsx)(B,{}),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"}),Object(u.jsxs)("button",{className:"btn btn-sm btn-text-danger",onClick:function(){t.daysTotal>1?D():t.setErrorMsg("Each workshop must have at least one day in the agenda.")},children:[Object(u.jsx)("i",{className:"bi-trash"})," Delete Day"]})]})]}),Object(u.jsx)("div",{className:"agenda--day--activity-list",children:Q}),Object(u.jsxs)("div",{className:"agenda--day--activity-buttons button-group centered",children:[Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){o(!d)},children:[Object(u.jsx)("i",{className:"bi-plus-lg margin-r-1x"})," Add Activity"]}),Object(u.jsxs)("button",{className:"btn btn-outline-primary",id:"61507edcb2924f8affee9bc5",onClick:P,children:[Object(u.jsx)("i",{className:"bi-cup margin-r-1x"})," Add Break"]}),Object(u.jsxs)("button",{className:"btn btn-outline-primary hidden",children:[Object(u.jsx)("i",{className:"bi-tv margin-r-1x"})," Add Presentation"]}),Object(u.jsxs)("div",{className:w,children:[Object(u.jsxs)("div",{className:"activities--popup--col",children:[Object(u.jsx)("h5",{className:"margin-b-1x",children:"Ideation"}),Object(u.jsx)("span",{id:"61507f3fb2924f8affee9bc8",onClick:P,children:"Brainstorm"})]}),Object(u.jsxs)("div",{className:"activities--popup--col",children:[Object(u.jsx)("h5",{className:"margin-b-1x",children:"Icebreakers"}),Object(u.jsx)("span",{children:"Two Truths & A Lie"})]})]})]})]})}a(169);function Z(t){var e=t.day,a=(t.index,t.startTime),n=parseInt(a)+6e4*(parseInt(t.totalTime)-parseInt(t.activity.duration)),s=t.activity,r=s.activity,c=Object(i.useState)(t.activity.duration),d=Object(m.a)(c,2),o=d[0],l=d[1],j=Object(i.useState)(!1),b=Object(m.a)(j,2),h=b[0],O=b[1],g=function(t,e){var a=Object(y.a)(S||(S=Object(N.a)(["\n\t\tmutation updateAgendaActivity($agendaDayId: ID!, $activityId: ID!, $weight: Int, $duration: Int, $status: String) {\n\t\t  updateAgendaActivity(agendaDayId: $agendaDayId, activityId: $activityId, weight: $weight, duration: $duration, status: $status) {\n\t\t    _id\n\t\t  }\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({agendaDayId:e._id,activityId:s._id,weight:t.activity.weight,duration:o},(function(){})),x=Object(m.a)(g,1)[0],p=function(t,e){var a=Object(y.a)(A||(A=Object(N.a)(["\n\t\tmutation deleteActivityFromAgendaDay($agendaDayId: ID!, $activityId: ID!) {\n\t\t  deleteActivityFromAgendaDay(agendaDayId: $agendaDayId, activityId: $activityId)\n\t\t}\n\t"]))),i=Object(I.a)(a,{variables:t,refetchQueries:["getWorkshops"],onCompleted:e}),n=Object(m.a)(i,2),s=n[0],r=n[1];return[s,{data:r.data,loading:r.loading,error:r.error}]}({agendaDayId:e._id,activityId:s._id},(function(){})),v=Object(m.a)(p,1)[0];function f(){O(o<5)}return Object(i.useEffect)((function(){"NaN"==o&&l(0),x()}),[o]),Object(i.useEffect)((function(){l(t.activity.duration)}),[t.activity.duration]),Object(u.jsxs)("div",{className:"agenda--day--activity",children:[Object(u.jsx)("div",{className:"draggable",children:Object(u.jsx)("i",{className:"bi-grip-vertical"})}),Object(u.jsxs)("div",{className:"agenda--activity--time",children:[Object(u.jsx)("div",{className:"agenda--activity--start-time",children:Object(_.convertTime)(n)}),Object(u.jsxs)("fieldset",{className:"inline",children:[Object(u.jsx)("button",{className:"btn btn-sm btn-icon",onClick:function(){l(o>=5?parseInt(o)-5:0),f()},disabled:h,children:Object(u.jsx)("i",{className:"bi-dash-circle"})}),Object(u.jsx)("input",{type:"number",value:o,onChange:function(t){l(parseInt(t.target.value)),f()},min:"0"}),Object(u.jsx)("button",{className:"btn btn-sm btn-icon",onClick:function(){l(parseInt(o)+5),f()},children:Object(u.jsx)("i",{className:"bi-plus-circle"})})]})]}),Object(u.jsxs)("div",{className:"agenda--activity--description",children:[Object(u.jsx)("h3",{children:r.name}),Object(u.jsx)("p",{children:r.description}),Object(u.jsxs)("div",{className:"button-group",children:[Object(u.jsxs)("button",{className:"btn btn-sm btn-text-secondary",children:[Object(u.jsx)("i",{className:"bi-gear-fill"})," Edit Settings"]}),Object(u.jsxs)("button",{className:"btn btn-sm btn-text-danger",onClick:v,children:[Object(u.jsx)("i",{className:"bi-trash"})," Delete Activity"]})]})]})]})}a(170);function tt(){var t=Object(i.useState)(!1),e=Object(m.a)(t,2),a=e[0],n=e[1],s=P({id:Object(d.g)().id,page:1,limit:1},(function(t){})),r=s.loading,c=s.error,o=s.data;return r?"Loading...":(c&&console.log(c),Object(u.jsxs)("div",{id:"workshop",children:[Object(u.jsx)(Q,{workshop:o.getWorkshops.workshops[0],setModalVisibility:n}),Object(u.jsx)(Y,{workshop:o.getWorkshops.workshops[0]}),Object(u.jsx)(h,{users:o.getWorkshops.workshops[0].users,modalVisibility:a,setModalVisibility:n})]}))}a(171);function et(){return Object(u.jsx)("main",{children:Object(u.jsx)("h1",{children:"Login"})})}a(172);function at(){return Object(u.jsx)("main",{children:Object(u.jsx)("h1",{children:"Register"})})}a(173);var it=Object(o.a)({uri:"http://localhost:4000/graphql",credentials:"same-origin"}),nt=new l.a({uri:"http://localhost:4000/graphql",cache:new j.a({typePolicies:{Agenda:{fields:{activities:{merge:function(t,e){return e}}}}}}),link:it});function st(){return Object(u.jsx)(b.a,{client:nt,children:Object(u.jsxs)(c.a,{children:[Object(u.jsx)(d.a,{path:"/login",component:function(){return Object(u.jsx)(et,{})}}),Object(u.jsx)(d.a,{path:"/register",component:function(){return Object(u.jsx)(at,{})}}),Object(u.jsx)(d.a,{path:"/dashboard",render:function(){return Object(u.jsx)(L,{})}}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/workshop/:id/agenda",render:function(){return Object(u.jsx)(tt,{})}}),Object(u.jsx)(d.a,{path:"/workshop/:id",render:function(){return Object(u.jsx)(H,{})}})]}),Object(u.jsx)(g,{})]})})}var rt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,196)).then((function(e){var a=e.getCLS,i=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;a(t),i(t),n(t),s(t),r(t)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(st,{})}),document.getElementById("root")),rt()},25:function(t,e){t.exports={convertDate:function(t){var e=new Date(parseInt(t));return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},convertTime:function(t){return new Date(parseInt(t)).toLocaleTimeString()},compareTimeToNow:function(t){var e="",a=Date.now(),i=parseInt(t)-a,n=i/6e4,s=n/60,r=s/24;if(i>0)if(r>1){var c=Math.floor(r),d=Math.floor(s-24*c);e+=c+" days",d>0&&(e+=", "+d+" hours")}else{var o=Math.floor(s),l=Math.floor(n-60*o);e=o+" hours",l>0&&(e+=", "+l+" minutes")}else e=!1;return e}}}},[[175,1,2]]]);
//# sourceMappingURL=main.6518782a.chunk.js.map